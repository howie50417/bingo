(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-member-member"],{"029a":function(t,e,i){var a=i("7d445");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("bb14b5dc",a,!0,{sourceMap:!1,shadowMode:!1})},"06e2":function(t,e,i){"use strict";i("7a82");var a=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("e25e"),i("b64b");var n=a(i("c7eb")),s=a(i("1da1")),o=a(i("5530")),r=i("4b93"),c=i("26cb"),l={data:function(){return{active:0,nowDate:(new Date).getTime()/1e3,list:[]}},computed:(0,o.default)((0,o.default)({},(0,c.mapState)(["userInfo","userId","token","defaultSetting","vipMap"])),{},{isVip:function(){return 0!==this.userInfo.vip_level&&!(this.userInfo.vip_expire<this.nowDate)},endData:function(){return this.userInfo.vip_expire-this.nowDate>=86400?"".concat(parseInt((this.userInfo.vip_expire-this.nowDate)/60/60/24),"天"):"".concat(parseInt((this.userInfo.vip_expire-this.nowDate)/60/60),"小时")}}),onLoad:function(){0===Object.keys(this.userInfo).length&&this.getUserInfo(),this.getData()},methods:(0,o.default)((0,o.default)({},(0,c.mapMutations)(["SetOnlyUserInfo"])),{},{getUserInfo:function(){var t=this;return(0,s.default)((0,n.default)().mark((function e(){var i,a,s;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t.userId,t.token),e.next=3,r.user.info(t.userId);case 3:if(i=e.sent,a=i.code,s=i.data,console.log(s),200===a){e.next=9;break}return e.abrupt("return");case 9:t.SetOnlyUserInfo(s);case 10:case"end":return e.stop()}}),e)})))()},changeActive:function(t){this.active=t},getData:function(){var t=this;return(0,s.default)((0,n.default)().mark((function e(){var i,a,s;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.vip.list({});case 2:if(i=e.sent,a=i.code,s=i.data,console.log(s),200===a){e.next=8;break}return e.abrupt("return");case 8:t.list=s;case 9:case"end":return e.stop()}}),e)})))()},bugVip:function(){var t=this;return(0,s.default)((0,n.default)().mark((function e(){var i,a;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log({id:t.list[t.active].id}),!(t.userInfo.point<t.list[t.active].real_point)){e.next=3;break}return e.abrupt("return",t.$toast("金币数量不够，请先充值金币"));case 3:return e.next=5,r.vip.buy({id:t.list[t.active].id});case 5:if(i=e.sent,a=i.code,200===a){e.next=9;break}return e.abrupt("return");case 9:t.getUserInfo();case 10:case"end":return e.stop()}}),e)})))()}})};e.default=l},"15cb":function(t,e,i){t.exports=i.p+"static/img/icon_2.fd42afc7.png"},"1bd7":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("layout",{scopedSlots:t._u([{key:"header",fn:function(){return[a("v-uni-view",{staticClass:"header-top flex items-center justify-center"},[t._v("会员中心")])]},proxy:!0}])},[a("v-uni-view",{staticStyle:{"padding-bottom":"40upx"}},[a("v-uni-view",{staticClass:"user-info flex items-center"},[a("v-uni-view",{staticClass:"profile"},[a("v-uni-image",{staticClass:"profile__avator",attrs:{src:t.userInfo.header?t.userInfo.header:t.defaultSetting.client.header}}),t.isVip?a("v-uni-image",{staticClass:"frame",attrs:{mode:"aspectFill",src:t.vipMap[t.userInfo.vip_level].icon}}):t._e()],1),a("v-uni-view",{staticClass:"flex-1 flex flex-col"},[a("v-uni-view",{staticClass:"user-info__name flex items-center"},[t._v(t._s(t.userInfo.nick_name))]),t.isVip?a("v-uni-view",{staticClass:"user-info__sub"},[t._v("会员到期时间："+t._s(t.endData))]):a("v-uni-view",{staticClass:"user-info__sub"},[t._v(t._s(t.userInfo.vip_level?"您的会员已到期，请续费":"您还未开通会员"))])],1)],1),a("v-uni-view",{staticClass:"title"},[t._v("会员开通")]),a("v-uni-view",{staticClass:"flex choose-all"},t._l(t.list,(function(e,i){return a("v-uni-view",{key:e.id,class:["choose-item flex flex-col items-center",t.active===i&&"active"],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeActive(i)}}},[a("v-uni-text",{staticClass:"choose-item__name"},[t._v(t._s(e.name))]),a("v-uni-view",{staticClass:"choose-item__money"},[a("v-uni-text",[t._v(t._s(e.real_point))]),t._v("金币")],1),a("v-uni-text",{staticClass:"choose-item__expire"},[t._v("有效期："+t._s(parseInt(e.duration/60/60/24))+"天")])],1)})),1),a("v-uni-view",{staticClass:"title"},[t._v("会员权益")]),t.list.length?a("v-uni-view",{staticClass:"rights"},[t.list[t.active].permissions.includes(1)?a("v-uni-view",{staticClass:"rights-item flex items-center"},[a("v-uni-image",{attrs:{src:i("548f")}}),a("v-uni-view",{staticClass:"flex-1 flex flex-col"},[a("v-uni-text",{staticClass:"t1"},[t._v("评论")]),a("v-uni-text",{staticClass:"t2"},[t._v("会员可无限制评论帖子")])],1)],1):t._e(),t.list[t.active].permissions.includes(2)?a("v-uni-view",{staticClass:"rights-item flex items-center"},[a("v-uni-image",{attrs:{src:i("15cb")}}),a("v-uni-view",{staticClass:"flex-1 flex flex-col"},[a("v-uni-text",{staticClass:"t1"},[t._v("私信")]),a("v-uni-text",{staticClass:"t2"},[t._v("会员可无限制与其他用户发起私信")])],1)],1):t._e(),t.list[t.active].permissions.includes(3)?a("v-uni-view",{staticClass:"rights-item flex items-start mb38"},[a("v-uni-image",{attrs:{src:i("fe94")}}),a("v-uni-view",{staticClass:"flex-1 flex flex-col"},[a("v-uni-text",{staticClass:"t1"},[t._v("修改个人信息")]),a("v-uni-text",{staticClass:"t2"},[t._v("会员可无限制修改个人信息，普通用户每3月可免费修改一次")])],1)],1):t._e(),t.list[t.active].permissions.includes(4)?a("v-uni-view",{staticClass:"rights-item flex items-center"},[a("v-uni-image",{attrs:{src:i("7851")}}),a("v-uni-view",{staticClass:"flex-1 flex flex-col"},[a("v-uni-text",{staticClass:"t1"},[t._v("发布帖子")]),a("v-uni-text",{staticClass:"t2"},[t._v("会员有权限发布帖子")])],1)],1):t._e(),t.list[t.active].permissions.includes(5)?a("v-uni-view",{staticClass:"rights-item flex items-center"},[a("v-uni-image",{attrs:{src:i("be38")}}),a("v-uni-view",{staticClass:"flex-1 flex flex-col"},[a("v-uni-text",{staticClass:"t1"},[t._v("访客记录")]),a("v-uni-text",{staticClass:"t2"},[t._v("你可以查看谁偷偷看了你")])],1)],1):t._e()],1):t._e(),t.list.length?a("v-uni-view",{staticClass:"btn-group"},[a("v-uni-view",{staticClass:"btn btn_active",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.bugVip()}}},[t._v(t._s(t.list[t.active].real_point)+"金币购买")]),a("v-uni-view",{staticClass:"balance"},[t._v("钱包余额:"+t._s(t.userInfo.point)+"金币")])],1):t._e()],1)],1)},n=[]},"548f":function(t,e,i){t.exports=i.p+"static/img/icon_1.e4be2190.png"},"5ad7":function(t,e,i){"use strict";var a=i("029a"),n=i.n(a);n.a},"70d1":function(t,e,i){"use strict";i.r(e);var a=i("1bd7"),n=i("75dd");for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);i("5ad7");var o=i("f0c5"),r=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,"05e9c3d4",null,!1,a["a"],void 0);e["default"]=r.exports},"75dd":function(t,e,i){"use strict";i.r(e);var a=i("06e2"),n=i.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},7851:function(t,e,i){t.exports=i.p+"static/img/icon_4.20aa11c9.png"},"7d445":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.clearfix[data-v-05e9c3d4]{zoom:1}.clearfix[data-v-05e9c3d4]:after{content:"";clear:both;height:0;line-height:0;display:block;visibility:hidden}.header-top[data-v-05e9c3d4]{width:100%;height:%?88?%;font-size:%?34?%;font-weight:500;color:#fff;border-bottom:%?1?% solid #222a3a}.user-info[data-v-05e9c3d4]{padding:%?34?% %?30?%}.user-info .profile[data-v-05e9c3d4]{width:%?90?%;height:%?90?%;position:relative;margin-right:%?19?%}.user-info .profile__avator[data-v-05e9c3d4]{width:%?90?%;height:%?90?%;border-radius:50%}.user-info .profile .frame[data-v-05e9c3d4]{width:%?94?%;height:%?102?%;position:absolute;bottom:0;right:0;z-index:2}.user-info .user-info__name[data-v-05e9c3d4]{font-size:%?30?%;font-weight:500;color:#fff}.user-info .user-info__name .vip[data-v-05e9c3d4]{width:%?31?%;height:%?27?%;margin-left:%?16?%}.user-info .user-info__sub[data-v-05e9c3d4]{font-size:%?24?%;font-weight:500;color:#9aa8b5}.title[data-v-05e9c3d4]{font-size:%?30?%;font-weight:500;color:#fff;padding:%?5?% %?35?%}.choose-all[data-v-05e9c3d4]{padding:%?20?% %?15?%;padding-bottom:%?45?%;display:flex;flex-wrap:wrap}.choose-all .choose-item[data-v-05e9c3d4]{width:%?230?%;margin:%?5?%;padding-top:%?21?%;padding-bottom:%?17?%;background:linear-gradient(270deg,#202f3c,#1c2936);border-radius:%?10?%;border:%?2?% solid hsla(0,0%,100%,.1)}.choose-all .choose-item.active[data-v-05e9c3d4]{border-color:#f9cd7c}.choose-all .choose-item.active .choose-item__name[data-v-05e9c3d4]{color:#f9cd7c}.choose-all .choose-item.active .choose-item__money[data-v-05e9c3d4]{color:#f9cd7c}.choose-all .choose-item__name[data-v-05e9c3d4]{font-size:%?26?%;font-weight:500;color:#9aa8b5}.choose-all .choose-item__money[data-v-05e9c3d4]{font-size:%?24?%;font-weight:500;color:#9aa8b5;margin-top:%?10?%;margin-bottom:%?10?%}.choose-all .choose-item__money uni-text[data-v-05e9c3d4]{font-size:%?40?%;margin-right:%?8?%}.choose-all .choose-item__expire[data-v-05e9c3d4]{font-size:%?20?%;font-weight:500;color:#9aa8b5}.rights[data-v-05e9c3d4]{padding:%?43?%;padding-bottom:0}.rights-item[data-v-05e9c3d4]{margin-bottom:%?58?%}.rights-item.mb38[data-v-05e9c3d4]{margin-bottom:%?38?%}.rights-item uni-image[data-v-05e9c3d4]{width:%?81?%;height:%?81?%;margin-right:%?33?%}.rights-item .t1[data-v-05e9c3d4]{font-size:%?30?%;font-weight:500;color:#fff}.rights-item .t2[data-v-05e9c3d4]{font-size:%?24?%;font-weight:500;color:#9aa8b5}.btn-group[data-v-05e9c3d4]{padding:0 %?85?%}.btn-group .btn[data-v-05e9c3d4]{height:%?88?%;line-height:%?88?%;text-align:center;background:#16202a;border:%?2?% solid #f9cd7c;border-radius:%?44?%;font-size:%?30?%;font-weight:700;color:#f9cd7c}.btn-group .balance[data-v-05e9c3d4]{text-align:center;font-size:%?24?%;font-weight:500;color:#9aa8b5;margin-top:%?22?%}',""]),t.exports=e},be38:function(t,e,i){t.exports=i.p+"static/img/icon_5.0a6c3fee.png"},fe94:function(t,e,i){t.exports=i.p+"static/img/icon_3.c6954da1.png"}}]);