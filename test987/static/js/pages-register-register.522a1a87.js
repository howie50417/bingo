(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-register-register"],{1553:function(t,e,a){var n=a("fa48");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("fbfd6caa",n,!0,{sourceMap:!1,shadowMode:!1})},"17d3":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var n={uIcon:a("5707").default,uPopup:a("a3f4").default},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"content safe-area-inset-bottom"},[n("v-uni-view",{staticClass:"login"},[n("v-uni-view",{staticClass:"logo"},[n("v-uni-image",{attrs:{src:a("38b5")}})],1),n("v-uni-view",{staticClass:"login-form"},[n("v-uni-view",{staticClass:"login-form_item"},[n("v-uni-text",[t._v("＊")]),n("v-uni-input",{attrs:{type:"text",placeholder:"请输入用户名"},model:{value:t.params.name,callback:function(e){t.$set(t.params,"name",e)},expression:"params.name"}})],1),n("v-uni-view",{staticClass:"login-form_item"},[n("v-uni-text",[t._v("＊")]),n("v-uni-input",{attrs:{type:"text",placeholder:"邀请码"},model:{value:t.params.code,callback:function(e){t.$set(t.params,"code",e)},expression:"params.code"}})],1),n("v-uni-view",{staticClass:"login-form_item"},[n("v-uni-text",[t._v("＊")]),n("v-uni-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:t.params.password,callback:function(e){t.$set(t.params,"password",e)},expression:"params.password"}})],1),n("v-uni-view",{staticClass:"login-form_item"},[n("v-uni-text",[t._v("＊")]),n("v-uni-input",{attrs:{type:"password",placeholder:"请确认密码"},model:{value:t.params.comfirmpass,callback:function(e){t.$set(t.params,"comfirmpass",e)},expression:"params.comfirmpass"}})],1),t.defaultSetting.sex_type&&t.defaultSetting.sex_type.length?n("v-uni-view",{staticClass:"sex",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.showSexBox()}}},[n("v-uni-text",{staticClass:"tit"},[t._v("性别")]),n("v-uni-view",{staticClass:"val"},[t.sexMap[t.params.sex]?n("v-uni-view",[t._v(t._s(t.sexMap[t.params.sex].name)),n("v-uni-image",{attrs:{src:t.sexMap[t.params.sex].icon,mode:""}})],1):t._e(),n("u-icon",{staticClass:"arrow",attrs:{name:"arrow-right"}})],1)],1):t._e(),n("v-uni-view",{staticClass:"login-form_btn btn_active",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v("注册")]),n("v-uni-text",{staticClass:"register",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.routeLogin.apply(void 0,arguments)}}},[t._v("已有账号，直接登录！")])],1)],1),n("u-popup",{attrs:{show:t.show,mode:"bottom","border-radius":"14"},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.show=!1}}},[n("v-uni-view",{staticClass:"pickers"},t._l(t.defaultSetting.sex_type,(function(e){return n("v-uni-view",{key:e.id,staticClass:"pickers-item",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.changeSex(e.id)}}},[n("v-uni-image",{attrs:{src:e.icon,mode:""}}),t._v(t._s(e.name))],1)})),1)],1)],1)},o=[]},"2fa0":function(t,e,a){"use strict";a.r(e);var n=a("c4f2"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},"38b5":function(t,e,a){t.exports=a.p+"static/img/logo.8711f0e9.png"},"67ef":function(t,e,a){"use strict";var n=a("1553"),i=a.n(n);i.a},c4f2:function(t,e,a){"use strict";a("7a82");var n=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("d401"),a("d3b7"),a("25f0"),a("ac1f"),a("00b4");var i=n(a("c7eb")),o=n(a("1da1")),r=n(a("5530")),s=a("4b93"),c=a("26cb"),l={data:function(){return{show:!1,params:{name:"",password:"",comfirmpass:"",nick_name:"",sex:null,code:""}}},computed:(0,r.default)({},(0,c.mapState)(["defaultSetting","sexMap"])),onShow:function(){this.defaultSetting.sex&&this.defaultSetting.sex.is_must&&(this.params.sex=this.defaultSetting.sex_type[0].id.toString())},methods:(0,r.default)((0,r.default)({},(0,c.mapActions)(["userLogin"])),{},{changeSex:function(t){this.params.sex=t,this.show=!1},showSexBox:function(){this.show=!0},routeLogin:function(){uni.navigateBack()},submit:function(){var t=this;return(0,o.default)((0,i.default)().mark((function e(){var a;return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.params.name){e.next=2;break}return e.abrupt("return",t.$toast("用户名不能为空"));case 2:if(t.params.code){e.next=4;break}return e.abrupt("return",t.$toast("邀请码不能为空"));case 4:if(/^(\w|\u4e00-\u9fa5)(\w|\u4e00-\u9fa5|[\.~!@#$%\^&\*\(\)-_=+\\\{\}\]:;"',/\?]){5,19}$/.test(t.params.name)){e.next=6;break}return e.abrupt("return",t.$toast("账号格式应由中文、英文字母、数字、特殊符号组成，最小6位，最大30"));case 6:if(t.params.password){e.next=8;break}return e.abrupt("return",t.toast("密码不能为空"));case 8:if(/[0-9A-Za-z]{6,20}/.test(t.params.password)){e.next=10;break}return e.abrupt("return",t.toast("密码由6-20位数字或字母组成"));case 10:if(t.params.comfirmpass&&t.params.comfirmpass===t.params.password){e.next=12;break}return e.abrupt("return",t.$toast("密码输入不一致"));case 12:return t.params.nick_name=t.params.name,console.log(t.params),e.next=16,(0,s.register)(t.params);case 16:if(a=e.sent,console.log(a),200===a.code){e.next=20;break}return e.abrupt("return");case 20:uni.showToast({icon:"success",duration:1500,title:"注册成功"}),setTimeout((0,o.default)((0,i.default)().mark((function e(){return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.userLogin({name:t.params.name,password:t.params.password});case 2:uni.reLaunch({url:"/pages/home/home"});case 3:case"end":return e.stop()}}),e)}))),1500);case 22:case"end":return e.stop()}}),e)})))()}})};e.default=l},d77c:function(t,e,a){"use strict";a.r(e);var n=a("17d3"),i=a("2fa0");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("67ef");var r=a("f0c5"),s=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"2efb7320",null,!1,n["a"],void 0);e["default"]=s.exports},fa48:function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.clearfix[data-v-2efb7320]{zoom:1}.clearfix[data-v-2efb7320]:after{content:"";clear:both;height:0;line-height:0;display:block;visibility:hidden}.content[data-v-2efb7320]{background-color:#16202a;height:100vh;overflow:auto}.content .login[data-v-2efb7320]{display:flex;margin-top:%?145?%;flex-direction:column;align-items:center}.content .login .logo[data-v-2efb7320]{width:%?200?%;height:%?200?%;background:#0e141a;border-radius:50%}.content .login .logo uni-image[data-v-2efb7320]{width:100%;height:100%;border-radius:50%}.content .login .appName[data-v-2efb7320]{font-size:%?36?%;font-weight:500;color:#fff;margin-top:%?45?%;margin-bottom:%?57?%}.content .login .login-form[data-v-2efb7320]{width:%?654?%;box-sizing:border-box;padding:%?73?% %?27?%;padding-bottom:%?95?%;display:flex;flex-direction:column;align-items:center}.content .login .login-form_item[data-v-2efb7320]{width:100%;height:%?98?%;background:#0e141a;border-radius:%?49?%;display:flex;align-items:center;margin-bottom:%?20?%}.content .login .login-form_item uni-input[data-v-2efb7320]{flex:0.95;font-size:%?30?%;height:%?40?%;line-height:%?40?%;font-weight:500;margin-left:%?23?%;color:#fff}.content .login .login-form_item uni-input[data-v-2efb7320]::-webkit-input-placeholder{color:#304050}.content .login .login-form_item uni-text[data-v-2efb7320]{flex:0.05;font-size:%?30?%;height:%?40?%;line-height:%?40?%;font-weight:500;margin-left:%?23?%;color:red}.content .login .login-form .sex[data-v-2efb7320]{width:100%;height:%?98?%;background:#0e141a;border-radius:%?49?%;box-sizing:border-box;padding:0 %?53?%;display:flex;align-items:center;justify-content:space-between}.content .login .login-form .sex .tit[data-v-2efb7320]{font-size:%?30?%;font-weight:500;color:#1e9be8}.content .login .login-form .sex .val[data-v-2efb7320]{font-size:%?30?%;font-weight:500;display:flex;justify-content:center;color:#fff}.content .login .login-form .sex .val uni-image[data-v-2efb7320]{width:%?28?%;height:%?28?%;margin-right:%?22?%;margin-left:%?7?%;vertical-align:middle}.content .login .login-form .sex .val .val_0[data-v-2efb7320]{color:#1e9be8}.content .login .login-form .sex .val .val_1[data-v-2efb7320]{color:#e0529b}.content .login .login-form .sex .val .val_2[data-v-2efb7320]{color:#4c65ef}.content .login .login-form .sex .val .arrow[data-v-2efb7320]{color:#a1abb5}.content .login .login-form_btn[data-v-2efb7320]{width:100%;height:%?98?%;background:#1e9be8;border-radius:%?49?%;display:flex;justify-content:center;align-items:center;font-size:%?30?%;font-weight:500;color:#fff;margin-top:%?43?%;margin-bottom:%?38?%}.content .login .login-form_btn[data-v-2efb7320]:active{opacity:.8}.content .login .login-form .register[data-v-2efb7320]{font-size:%?30?%;font-weight:500;color:#9aa8b5}.pickers[data-v-2efb7320]{display:flex;flex-direction:column;padding:%?50?% 0;background-color:#181e2a}.pickers .pickers-item[data-v-2efb7320]{display:flex;justify-content:center;align-items:center;font-size:%?30?%;font-weight:500;color:#9aa8b5;padding:%?40?% 0}.pickers .pickers-item uni-image[data-v-2efb7320]{width:%?34?%;height:%?34?%;margin-right:%?24?%}',""]),t.exports=e}}]);