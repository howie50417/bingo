(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-notice-postDetail-postDetail"],{"043e":function(e,t,i){"use strict";var n=i("0cbd"),a=i.n(n);a.a},"0cbd":function(e,t,i){var n=i("7106");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("5bba4848",n,!0,{sourceMap:!1,shadowMode:!1})},"18ba":function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[i("v-uni-video",{directives:[{name:"show",rawName:"v-show",value:e.videoUrl,expression:"videoUrl"}],style:e.allVisible?"width: 100vw;height: 100vh;":"width: 0;height: 0;",attrs:{src:e.videoUrl,id:"myVideo"},on:{fullscreenchange:function(t){arguments[0]=t=e.$handleEvent(t),e.videChangeFull.apply(void 0,arguments)}}})],1)},a=[]},2381:function(e,t,i){"use strict";i.r(t);var n=i("fdea"),a=i("dadf");for(var r in a)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(r);var o=i("f0c5"),s=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,"d7ea1b96",null,!1,n["a"],void 0);t["default"]=s.exports},"3bb4":function(e,t,i){"use strict";i.r(t);var n=i("18ba"),a=i("4e17");for(var r in a)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(r);i("043e");var o=i("f0c5"),s=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,"1df76f20",null,!1,n["a"],void 0);t["default"]=s.exports},"4e17":function(e,t,i){"use strict";i.r(t);var n=i("a6e9"),a=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(r);t["default"]=a.a},6109:function(e,t,i){"use strict";i("7a82");var n=i("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(i("c7eb")),r=n(i("1da1")),o=n(i("5530")),s=i("4b93"),u=i("ffd9"),c=i("26cb"),d=n(i("3bb4")),l={components:{playVideo:d.default},data:function(){return{info:null}},computed:(0,o.default)({},(0,c.mapState)(["userInfo","defaultSetting","vipMap"])),onLoad:function(e){this.getInfo(e.postId),this.markPrivateMessageAsRead(e.targetId)},methods:{renderTimeStr:function(e){return(0,u.timeToStr)(e)},renderNumStr:function(e){return(0,u.numberToStr)(e)},getInfo:function(e){var t=this;return(0,r.default)((0,a.default)().mark((function i(){var n;return(0,a.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,s.topic.info(e);case 2:if(n=i.sent,200===n.code){i.next=5;break}return i.abrupt("return");case 5:t.info=n.data;case 6:case"end":return i.stop()}}),i)})))()},markPrivateMessageAsRead:function(e){var t=this;return(0,r.default)((0,a.default)().mark((function i(){return(0,a.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.$im.getEngine().clearUnreadCount(4,e,"",(new Date).getTime());case 2:uni.$emit("updatereadnumber",e);case 3:case"end":return i.stop()}}),i)})))()},toPlayVideo:function(e){this.$refs.playVideo.toPlayVideo(e)},previewImg:function(e,t){uni.previewImage({current:e,urls:t.items?t.items.split(","):[]})}}};t.default=l},7106:function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,".transparent[data-v-1df76f20]{opacity:0}",""]),e.exports=t},a6e9:function(e,t,i){"use strict";i("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={name:"video-player",data:function(){return{videoUrl:"",videoContext:null,allVisible:!1}},methods:{toPlayVideo:function(e){var t=this;this.videoUrl=e,this.allVisible=!0,setTimeout((function(){t.videoContext=uni.createVideoContext("myVideo"),t.videoContext.play(),t.videoContext.requestFullScreen({direction:0})}),100)},videChangeFull:function(e){e.detail.fullScreen||(this.videoContext.stop(),this.videoUrl="",this.allVisible=!1)}}};t.default=n},acc8:function(e,t,i){e.exports=i.p+"static/img/play.3dc9ea67.png"},dadf:function(e,t,i){"use strict";i.r(t);var n=i("6109"),a=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(r);t["default"]=a.a},fdea:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){}));var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("layout",{attrs:{hasTabbar:!1},scopedSlots:e._u([{key:"header",fn:function(){return[n("v-navbar",{attrs:{title:"帖子详情"}})]},proxy:!0}])},[n("v-uni-scroll-view",{attrs:{"scroll-y":"true"}},[e.info?n("v-uni-view",{staticClass:"record_item",staticStyle:{"border-bottom":"none"}},[n("v-uni-view",{staticClass:"record_item__portrait"},[n("v-uni-view",{staticClass:"portrait"},[n("v-uni-image",{staticClass:"portrait__image",attrs:{src:e.info.header?e.info.header:e.defaultSetting.client.header}}),e.info.vip_level&&e.checkVipValid(e.info.vip_expire)?n("v-uni-image",{staticClass:"frame",attrs:{src:e.vipMap[e.info.vip_level].icon}}):e._e()],1)],1),n("v-uni-view",{staticClass:"record_item__content"},[n("v-uni-view",{staticClass:"content-names"},[n("v-uni-view",{staticClass:"content-names__left"},[n("v-uni-text",{staticClass:"name"},[e._v(e._s(e.info.nick_name))]),n("v-uni-text",{staticClass:"time"},[e._v(e._s(e.renderTimeStr(e.info.note_time)))])],1)],1),n("v-uni-view",{staticClass:"content-desc"},[n("v-uni-text",[e._v(e._s(e.info.content))])],1),n("v-uni-view",{staticClass:"content-media"},[2===e.info.type?n("v-uni-view",{staticClass:"content-media__img flex flex-row"},e._l(e.info.items.split(","),(function(t,i){return n("v-uni-view",{key:t,on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.previewImg(i,e.info)}}},[n("v-uni-image",{attrs:{src:t,mode:"aspectFill"}})],1)})),1):e._e(),3===e.info.type?n("v-uni-view",{staticClass:"content-media__video"},[n("v-uni-view",{staticClass:"video-wrap",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toPlayVideo(e.info.items)}}},[n("v-uni-view",{staticClass:"pause"},[n("v-uni-image",{attrs:{src:i("acc8")}})],1)],1)],1):e._e(),4===e.info.type?n("v-uni-view",{staticClass:"content-media__audio"},[n("audio-player",{attrs:{url:e.info.items,showClose:!1,audioId:"audio"+e.info.id}})],1):e._e()],1)],1)],1):e._e()],1),n("play-video",{ref:"playVideo"})],1)},a=[]}}]);