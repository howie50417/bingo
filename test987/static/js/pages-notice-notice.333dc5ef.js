(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-notice-notice"],{"04ec":function(t,e,n){"use strict";n.r(e);var i=n("9db7"),a=n("55d0");for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);n("c738");var s=n("f0c5"),u=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"700823a7",null,!1,i["a"],void 0);e["default"]=u.exports},"052b":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uSticky:n("04ec").default,uTabs:n("772a").default,mescrollUni:n("abc3").default,uBadge:n("6075").default,uIcon:n("5707").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("layout",{scopedSlots:t._u([{key:"header",fn:function(){return[n("v-uni-view",{staticClass:"header-top flex items-center justify-center"},[t._v("消息中心")])]},proxy:!0}])},[n("u-sticky",[n("u-tabs",{attrs:{list:t.nav,scrollable:!1,activeStyle:{color:"#ffffff"}},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.changeTab.apply(void 0,arguments)}}})],1),n("mescroll-uni",{ref:"mescrollRef",attrs:{top:t.scrollTop},on:{init:function(e){arguments[0]=e=t.$handleEvent(e),t.mescrollInit.apply(void 0,arguments)},down:function(e){arguments[0]=e=t.$handleEvent(e),t.downCallback.apply(void 0,arguments)},up:function(e){arguments[0]=e=t.$handleEvent(e),t.upCallback.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"chat-all"},t._l(t.list,(function(e){return n("v-uni-view",{key:0===t.current?e.targetId:e.messageId},[0===t.current?n("v-uni-view",{staticClass:"chat-item flex items-center",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.goChat(e)}}},[n("v-uni-view",{staticClass:"portrait"},[n("v-uni-image",{attrs:{src:e.extraData.header?e.extraData.header:t.defaultSetting.client.header,mode:"aspectFill"}})],1),n("v-uni-view",{staticClass:"flex flex-1 msg items-center"},[n("v-uni-view",{staticClass:"flex flex-1 flex-col justify-center"},[n("v-uni-view",{staticClass:"name"},[n("v-uni-view",[n("v-uni-text",[t._v(t._s(e.extraData.nick_name))])],1)],1),n("v-uni-view",{staticClass:"desc flex items-center"},[n("v-uni-view",{staticClass:"flex-1 desc-sub"},[2==e.lastMessage.messageType?n("v-uni-text",[t._v(t._s(e.lastMessage.text))]):t._e(),4==e.lastMessage.messageType?n("v-uni-text",[t._v("[图片]")]):t._e()],1),n("v-uni-text",{staticClass:"time"},[t._v(t._s(t.dateTimeToStr(e.lastMessage.sentTime)))])],1)],1),n("v-uni-view",[e.unreadCount?n("u-badge",{staticStyle:{"margin-left":"15upx"},attrs:{numberType:"overflow",bgColor:"#B92525",max:"99",value:e.unreadCount}}):t._e()],1)],1)],1):t._e(),1===t.current?["0"===e.targetId?n("v-uni-view",{staticClass:"chat-item chat-item-2 flex items-center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goNoticeInfo()}}},[n("v-uni-view",{staticClass:"portrait"},[n("u-icon",{attrs:{name:"bell-fill",color:"#1D95DF",size:"32"}})],1),n("v-uni-view",{staticClass:"flex flex-1 msg justify-center",staticStyle:{height:"100upx"}},[n("v-uni-view",{staticClass:"flex flex-1 flex-col items-start justify-start"},[n("v-uni-view",{staticClass:"name"},[n("v-uni-view",[n("v-uni-text",[t._v("系统消息")])],1)],1),n("v-uni-view",{staticClass:"desc flex items-center"},[n("v-uni-view",{staticClass:"flex-1 desc-sub"},[n("v-uni-text",[t._v(t._s(e.lastMessage?e.lastMessage.text:"暂无"))])],1)],1),n("v-uni-text",{staticClass:"date"},[t._v(t._s(e.lastMessage?t.parseDateToStr(e.lastMessage.sentTime):""))])],1),n("v-uni-view",[0!==e.unreadCount?n("u-badge",{staticStyle:{"margin-left":"20upx","margin-right":"10upx"},attrs:{isDot:!0,bgColor:"#B92525"}}):t._e()],1)],1)],1):t._e(),"0"!==e.targetId?n("v-uni-view",{staticClass:"chat-item chat-item-1 flex items-center",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.goPostDetail(e)}}},[n("v-uni-view",{staticClass:"portrait"},[n("v-uni-image",{attrs:{src:e.extraData.header?e.extraData.header:t.defaultSetting.client.header,mode:"aspectFill"}})],1),n("v-uni-view",{staticClass:"flex flex-1 msg items-center"},[n("v-uni-view",{staticClass:"flex flex-1 flex-col justify-center"},[n("v-uni-view",{staticClass:"name"},[n("v-uni-view",[n("v-uni-text",[t._v(t._s(e.extraData.nick_name))])],1),n("v-uni-text",{staticClass:"option"},[t._v(t._s(t.noticeTypeMap[e.extraData.action]))])],1),n("v-uni-view",{staticClass:"desc flex items-center"},[n("v-uni-view",{staticClass:"flex-1 desc-sub"},[n("v-uni-text",[t._v(t._s(e.lastMessage.text))])],1),n("v-uni-text",{staticClass:"time"},[t._v(t._s(t.dateTimeToStr(e.lastMessage.sentTime)))])],1)],1),n("v-uni-view",[0!==e.unreadCount?n("u-badge",{staticStyle:{"margin-left":"15upx"},attrs:{isDot:!0,bgColor:"#B92525"}}):t._e()],1)],1)],1):t._e()]:t._e()],2)})),1)],1)],1)},r=[]},"17e5":function(t,e,n){var i=n("838c");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("65815b8d",i,!0,{sourceMap:!1,shadowMode:!1})},"1abc":function(t,e,n){"use strict";n.r(e);var i=n("052b"),a=n("7b95");for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);n("8f00");var s=n("f0c5"),u=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"1b00abc4",null,!1,i["a"],void 0);e["default"]=u.exports},"235a":function(t,e,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("13d5"),n("d3b7"),n("fb6a"),n("3ca3"),n("ddb0"),n("d81d");var a=i(n("3835")),r=i(n("5530")),s=i(n("c7eb")),u=i(n("1da1")),o=i(n("2b88")),c={name:"u-tabs",mixins:[uni.$u.mpMixin,uni.$u.mixin,o.default],data:function(){return{firstTime:!0,scrollLeft:0,scrollViewWidth:0,lineOffsetLeft:0,tabsRect:{left:0},innerCurrent:0,moving:!1}},watch:{current:{immediate:!0,handler:function(t,e){var n=this;t!==this.innerCurrent&&(this.innerCurrent=t,this.$nextTick((function(){n.resize()})))}},list:function(){var t=this;this.$nextTick((function(){t.resize()}))}},computed:{textStyle:function(){var t=this;return function(e){var n={},i=e===t.innerCurrent?uni.$u.addStyle(t.activeStyle):uni.$u.addStyle(t.inactiveStyle);return t.list[e].disabled&&(n.color="#c8c9cc"),uni.$u.deepMerge(i,n)}},propsBadge:function(){return uni.$u.props.badge}},mounted:function(){var t=this;return(0,u.default)((0,s.default)().mark((function e(){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.init();case 1:case"end":return e.stop()}}),e)})))()},methods:{setLineLeft:function(){var t=this,e=this.list[this.innerCurrent];if(e){var n=this.list.slice(0,this.innerCurrent).reduce((function(t,e){return t+e.rect.width}),0),i=uni.$u.getPx(this.lineWidth);this.lineOffsetLeft=n+(e.rect.width-i)/2,this.firstTime&&setTimeout((function(){t.firstTime=!1}),10)}},animation:function(t){},clickHandler:function(t,e){this.$emit("click",(0,r.default)((0,r.default)({},t),{},{index:e})),t.disabled||(this.innerCurrent=e,this.resize(),this.$emit("change",(0,r.default)((0,r.default)({},t),{},{index:e})))},init:function(){var t=this;uni.$u.sleep().then((function(){t.resize()}))},setScrollLeft:function(){var t=this.list[this.innerCurrent],e=this.list.slice(0,this.innerCurrent).reduce((function(t,e){return t+e.rect.width}),0),n=uni.$u.sys().windowWidth,i=e-(this.tabsRect.width-t.rect.width)/2-(n-this.tabsRect.right)/2+this.tabsRect.left/2;i=Math.min(i,this.scrollViewWidth-this.tabsRect.width),this.scrollLeft=Math.max(0,i)},resize:function(){var t=this;0!==this.list.length&&Promise.all([this.getTabsRect(),this.getAllItemRect()]).then((function(e){var n=(0,a.default)(e,2),i=n[0],r=n[1],s=void 0===r?[]:r;t.tabsRect=i,t.scrollViewWidth=0,s.map((function(e,n){t.scrollViewWidth+=e.width,t.list[n].rect=e})),t.setLineLeft(),t.setScrollLeft()}))},getTabsRect:function(){var t=this;return new Promise((function(e){t.queryRect("u-tabs__wrapper__scroll-view").then((function(t){return e(t)}))}))},getAllItemRect:function(){var t=this;return new Promise((function(e){var n=t.list.map((function(e,n){return t.queryRect("u-tabs__wrapper__nav__item-".concat(n),!0)}));Promise.all(n).then((function(t){return e(t)}))}))},queryRect:function(t,e){var n=this;return new Promise((function(e){n.$uGetRect(".".concat(t)).then((function(t){e(t)}))}))}}};e.default=c},"294d":function(t,e,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("c7eb")),r=i(n("1da1"));n("2c3e"),n("a9e3");var s=i(n("883c")),u={name:"u-sticky",mixins:[uni.$u.mpMixin,uni.$u.mixin,s.default],data:function(){return{cssSticky:!1,stickyTop:0,elId:uni.$u.guid(),left:0,width:"auto",height:"auto",fixed:!1}},computed:{style:function(){var t={};return this.disabled?t.position="static":this.cssSticky?(t.position="sticky",t.zIndex=this.uZindex,t.top=uni.$u.addUnit(this.stickyTop)):t.height=this.fixed?this.height+"px":"auto",t.backgroundColor=this.bgColor,uni.$u.deepMerge(uni.$u.addStyle(this.customStyle),t)},stickyContent:function(){var t={};return this.cssSticky||(t.position=this.fixed?"fixed":"static",t.top=this.stickyTop+"px",t.left=this.left+"px",t.width="auto"==this.width?"auto":this.width+"px",t.zIndex=this.uZindex),t},uZindex:function(){return this.zIndex?this.zIndex:uni.$u.zIndex.sticky}},mounted:function(){this.init()},methods:{init:function(){this.getStickyTop(),this.checkSupportCssSticky(),this.cssSticky||!this.disabled&&this.initObserveContent()},initObserveContent:function(){var t=this;this.$uGetRect("#"+this.elId).then((function(e){t.height=e.height,t.left=e.left,t.width=e.width,t.$nextTick((function(){t.observeContent()}))}))},observeContent:function(){var t=this;this.disconnectObserver("contentObserver");var e=uni.createIntersectionObserver({thresholds:[.95,.98,1]});e.relativeToViewport({top:-this.stickyTop}),e.observe("#".concat(this.elId),(function(e){t.setFixed(e.boundingClientRect.top)})),this.contentObserver=e},setFixed:function(t){var e=t<=this.stickyTop;this.fixed=e},disconnectObserver:function(t){var e=this[t];e&&e.disconnect()},getStickyTop:function(){this.stickyTop=uni.$u.getPx(this.offsetTop)+uni.$u.getPx(this.customNavHeight)},checkSupportCssSticky:function(){var t=this;return(0,r.default)((0,a.default)().mark((function e(){return(0,a.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.checkCssStickyForH5()&&(t.cssSticky=!0),"android"===uni.$u.os()&&Number(uni.$u.sys().system)>8&&(t.cssSticky=!0),"ios"===uni.$u.os()&&(t.cssSticky=!0);case 3:case"end":return e.stop()}}),e)})))()},checkComputedStyle:function(){},checkCssStickyForH5:function(){for(var t=["","-webkit-","-ms-","-moz-","-o-"],e=t.length,n=document.createElement("div"),i=0;i<e;i++)if(n.style.position=t[i]+"sticky",""!==n.style.position)return!0;return!1}},beforeDestroy:function(){this.disconnectObserver("contentObserver")}};e.default=u},"2b88":function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("a9e3");var i={props:{duration:{type:Number,default:uni.$u.props.tabs.duration},list:{type:Array,default:uni.$u.props.tabs.list},lineColor:{type:String,default:uni.$u.props.tabs.lineColor},activeStyle:{type:[String,Object],default:uni.$u.props.tabs.activeStyle},inactiveStyle:{type:[String,Object],default:uni.$u.props.tabs.inactiveStyle},lineWidth:{type:[String,Number],default:uni.$u.props.tabs.lineWidth},lineHeight:{type:[String,Number],default:uni.$u.props.tabs.lineHeight},lineBgSize:{type:String,default:uni.$u.props.tabs.lineBgSize},itemStyle:{type:[String,Object],default:uni.$u.props.tabs.itemStyle},scrollable:{type:Boolean,default:uni.$u.props.tabs.scrollable},current:{type:[Number,String],default:uni.$u.props.tabs.current},keyName:{type:String,default:uni.$u.props.tabs.keyName}}};e.default=i},"368b":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uBadge:n("6075").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"u-tabs"},[n("v-uni-view",{staticClass:"u-tabs__wrapper"},[t._t("left"),n("v-uni-view",{staticClass:"u-tabs__wrapper__scroll-view-wrapper"},[n("v-uni-scroll-view",{ref:"u-tabs__wrapper__scroll-view",staticClass:"u-tabs__wrapper__scroll-view",attrs:{"scroll-x":t.scrollable,"scroll-left":t.scrollLeft,"scroll-with-animation":!0,"show-scrollbar":!1}},[n("v-uni-view",{ref:"u-tabs__wrapper__nav",staticClass:"u-tabs__wrapper__nav"},[t._l(t.list,(function(e,i){return n("v-uni-view",{key:i,ref:"u-tabs__wrapper__nav__item-"+i,refInFor:!0,staticClass:"u-tabs__wrapper__nav__item",class:["u-tabs__wrapper__nav__item-"+i,e.disabled&&"u-tabs__wrapper__nav__item--disabled"],style:[t.$u.addStyle(t.itemStyle),{flex:t.scrollable?"":1}],on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.clickHandler(e,i)}}},[n("v-uni-text",{staticClass:"u-tabs__wrapper__nav__item__text",class:[e.disabled&&"u-tabs__wrapper__nav__item__text--disabled"],style:[t.textStyle(i)]},[t._v(t._s(e[t.keyName]))]),n("u-badge",{attrs:{show:!(!e.badge||!(e.badge.show||e.badge.isDot||e.badge.value)),isDot:e.badge&&e.badge.isDot||t.propsBadge.isDot,value:e.badge&&e.badge.value||t.propsBadge.value,max:e.badge&&e.badge.max||t.propsBadge.max,type:e.badge&&e.badge.type||t.propsBadge.type,showZero:e.badge&&e.badge.showZero||t.propsBadge.showZero,bgColor:e.badge&&e.badge.bgColor||t.propsBadge.bgColor,color:e.badge&&e.badge.color||t.propsBadge.color,shape:e.badge&&e.badge.shape||t.propsBadge.shape,numberType:e.badge&&e.badge.numberType||t.propsBadge.numberType,inverted:e.badge&&e.badge.inverted||t.propsBadge.inverted,customStyle:"margin-left: 4px;"}})],1)})),n("v-uni-view",{ref:"u-tabs__wrapper__nav__line",staticClass:"u-tabs__wrapper__nav__line",style:[{width:t.$u.addUnit(t.lineWidth),transform:"translate("+t.lineOffsetLeft+"px)",transitionDuration:(t.firstTime?0:t.duration)+"ms",height:t.$u.addUnit(t.lineHeight),background:t.lineColor,backgroundSize:t.lineBgSize}]})],2)],1)],1),t._t("right")],2)],1)},r=[]},"40f8":function(t,e,n){var i=n("ea51");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("257dcf5d",i,!0,{sourceMap:!1,shadowMode:!1})},5136:function(t,e,n){"use strict";var i=n("17e5"),a=n.n(i);a.a},"55d0":function(t,e,n){"use strict";n.r(e);var i=n("294d"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"772a":function(t,e,n){"use strict";n.r(e);var i=n("368b"),a=n("a184");for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);n("5136");var s=n("f0c5"),u=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"7a78d4df",null,!1,i["a"],void 0);e["default"]=u.exports},"7b95":function(t,e,n){"use strict";n.r(e);var i=n("b158"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"838c":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.clearfix[data-v-7a78d4df]{zoom:1}.clearfix[data-v-7a78d4df]:after{content:"";clear:both;height:0;line-height:0;display:block;visibility:hidden}uni-view[data-v-7a78d4df], uni-scroll-view[data-v-7a78d4df], uni-swiper-item[data-v-7a78d4df]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-tabs__wrapper[data-v-7a78d4df]{display:flex;flex-direction:row;align-items:center}.u-tabs__wrapper__scroll-view-wrapper[data-v-7a78d4df]{flex:1;overflow:auto hidden}.u-tabs__wrapper__scroll-view[data-v-7a78d4df]{display:flex;flex-direction:row;flex:1}.u-tabs__wrapper__nav[data-v-7a78d4df]{display:flex;flex-direction:row;position:relative}.u-tabs__wrapper__nav__item[data-v-7a78d4df]{padding:0 11px;display:flex;flex-direction:row;align-items:center;justify-content:center}.u-tabs__wrapper__nav__item--disabled[data-v-7a78d4df]{cursor:not-allowed}.u-tabs__wrapper__nav__item__text[data-v-7a78d4df]{font-size:15px;color:#606266}.u-tabs__wrapper__nav__item__text--disabled[data-v-7a78d4df]{color:#c8c9cc!important}.u-tabs__wrapper__nav__line[data-v-7a78d4df]{height:3px;background:#3c9cff;width:30px;position:absolute;bottom:2px;border-radius:100px;transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform;transition-duration:.3s}',""]),t.exports=e},"883c":function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("a9e3"),n("2c3e");var i={props:{offsetTop:{type:[String,Number],default:uni.$u.props.sticky.offsetTop},customNavHeight:{type:[String,Number],default:44},disabled:{type:Boolean,default:uni.$u.props.sticky.disabled},bgColor:{type:String,default:uni.$u.props.sticky.bgColor},zIndex:{type:[String,Number],default:uni.$u.props.sticky.zIndex},index:{type:[String,Number],default:uni.$u.props.sticky.index}}};e.default=i},"8f00":function(t,e,n){"use strict";var i=n("dbae"),a=n.n(i);a.a},9061:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.clearfix[data-v-1b00abc4]{zoom:1}.clearfix[data-v-1b00abc4]:after{content:"";clear:both;height:0;line-height:0;display:block;visibility:hidden}.header-top[data-v-1b00abc4]{width:100%;height:%?88?%;font-size:%?34?%;font-weight:500;color:#fff;border-bottom:%?1?% solid #222a3a}',""]),t.exports=e},"9db7":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var i=function(){var t=this.$createElement,e=this._self._c||t;return e("v-uni-view",{staticClass:"u-sticky",style:[this.style],attrs:{id:this.elId}},[e("v-uni-view",{staticClass:"u-sticky__content",style:[this.stickyContent]},[this._t("default")],2)],1)},a=[]},a184:function(t,e,n){"use strict";n.r(e);var i=n("235a"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},b158:function(t,e,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("4de4"),n("d3b7"),n("159b"),n("99af");var a=i(n("c7eb")),r=i(n("1da1")),s=i(n("5530")),u=i(n("76e2")),o=n("ffd9"),c=n("26cb"),l={mixins:[u.default],data:function(){return{nav:[{name:"好友私信",badge:{value:0,bgColor:"#1E9BE8"}},{name:"互动消息",badge:{value:0,bgColor:"#1E9BE8"}}],current:0,typeMap:{0:1,1:4},noticeTypeMap:{1:"评论了你",2:"点赞了你",3:"回复了你",4:"@了你"},page:1,list:[],topList:[]}},computed:(0,s.default)((0,s.default)({},(0,c.mapState)(["defaultSetting","nowNotice"])),{},{scrollTop:function(){return uni.upx2px(260)+"px"}}),watch:{nowNotice:{deep:!0,handler:function(t){var e=this;return(0,r.default)((0,a.default)().mark((function n(){return(0,a.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t){n.next=6;break}return n.next=3,e.getNotReadAllCount(1);case 3:return n.next=5,e.getNotReadAllCount(4);case 5:e.mescroll.resetUpScroll();case 6:case"end":return n.stop()}}),n)})))()}}},onLoad:function(){var t=this;return(0,r.default)((0,a.default)().mark((function e(){return(0,a.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$im.getEngine().setOnConversationsLoadedListener((function(e){console.log("setOnConversationsLoadedListener");e.startTime;var n=e.conversations;n=n.filter((function(t){return"lastMessage"in t||"0"==t.targetId})),console.log(n),n.forEach((function(t){if("0"!==t.targetId){var e="header_"+t.targetId,n="nick_name_"+t.targetId,i=t&&t.lastMessage&&t.lastMessage.extra?JSON.parse(decodeURIComponent(t.lastMessage.extra)):{},a=(0,s.default)({header:i[e],nick_name:i[n]},i);t.extraData=a}}));var i=0;i=n.length<10?10*t.page-1:10*t.page+1,t.mescroll.endBySize(n.length,i),1==t.page&&(t.list=[]),t.list=t.list.concat(n),console.log(t.list)})),e.next=3,t.getNotReadAllCount(1);case 3:return e.next=5,t.getNotReadAllCount(4);case 5:case"end":return e.stop()}}),e)})))()},onShow:function(){var t=this;return(0,r.default)((0,a.default)().mark((function e(){return(0,a.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.mescroll&&0===t.list.length&&t.mescroll.resetUpScroll(),e.next=3,t.getNotReadAllCount(1);case 3:return e.next=5,t.getNotReadAllCount(4);case 5:t.setToTopList();case 6:case"end":return e.stop()}}),e)})))()},onHide:function(){console.log("notice hide"),this.$im.getEngine().setOnMessagesLoadedListener((function(){})),this.$im.getEngine().setOnTopConversationsLoadedListener((function(){}))},mounted:function(){var t=this;uni.$on("updatereadnumber",(function(e){if(e)for(var n=0;n<t.list.length;n++)if(t.list[n].targetId===e){t.list[n].unreadCount=0;break}}))},methods:{dateTimeToStr:function(t){return(0,o.dateTimeToStr)(t)},parseDateToStr:function(t){return(0,o.parseDateToStr)(t,!1)},getNotReadAllCount:function(t){var e=this;return(0,r.default)((0,a.default)().mark((function n(){return(0,a.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n,i){e.$im.getEngine().setOnUnreadCountByConversationTypesLoadedListener((function(i){console.log(i),1===t?e.nav[0].badge.value=i.count:4===t&&(e.nav[1].badge.value=i.count),n()})),e.$im.getEngine().loadUnreadCountByConversationTypes([t],"",!0)})));case 1:case"end":return n.stop()}}),n)})))()},setToTopList:function(){var t=this;return(0,r.default)((0,a.default)().mark((function e(){var n;return(0,a.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$im.getEngine().changeConversationTopStatus(4,"0","",!0);case 2:n=e.sent,console.log(n);case 4:case"end":return e.stop()}}),e)})))()},upCallback:function(t){var e=this;return(0,r.default)((0,a.default)().mark((function n(){var i;return(0,a.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.page=t.num,n.prev=1,i=1===t.num?0:e.list[e.list.length-1].lastMessage.sentTime,n.next=5,e.$im.getEngine().loadConversations([e.typeMap[e.current]],"",i,t.size);case 5:n.sent,n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](1),e.mescroll.endErr();case 11:case"end":return n.stop()}}),n,null,[[1,8]])})))()},changeTab:function(t){this.current=t.index,this.list=[],this.getNotReadAllCount(1),this.getNotReadAllCount(4),this.mescroll.resetUpScroll()},goNewTalk:function(){uni.navigateTo({url:"/pages/notice/newTalk/newTalk"})},goNoticeInfo:function(){uni.navigateTo({url:"/pages/notice/system/system"})},goChat:function(t){uni.navigateTo({url:"/pages/chat/chat?header="+t.extraData.header+"&nick_name="+t.extraData.nick_name+"&targetId="+t.targetId})},goPostDetail:function(t){uni.navigateTo({url:"/pages/notice/postDetail/postDetail?postId="+t.extraData.post_id+"&messageId="+t.extraData.message_id+"&targetId="+t.targetId})}}};e.default=l},c738:function(t,e,n){"use strict";var i=n("40f8"),a=n.n(i);a.a},dbae:function(t,e,n){var i=n("9061");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("18b28d66",i,!0,{sourceMap:!1,shadowMode:!1})},ea51:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.clearfix[data-v-700823a7]{zoom:1}.clearfix[data-v-700823a7]:after{content:"";clear:both;height:0;line-height:0;display:block;visibility:hidden}',""]),t.exports=e}}]);